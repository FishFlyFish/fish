<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <button>按钮</button>
<script>

    /*
    *    侦听机制
    * */

//    var bn=document.querySelector("button");




      // 简写事件
//       bn.onclick=function () {
//           close();
//       }

    /*
    *
    *   IE8及以下事件
     *
    * */
    /*bn.attachEvent("onclick",clickHandler);
    bn.attachEvent("onclick",clickHandler1);
    function clickHandler(e) {

    }
    function clickHandler1(e) {

    }
    bn.detachEvent("onclick",clickHandler1);*/


    /*
    *   IE 8以上事件
    * */
//        bn.addEventListener("click",clickHandler);
//        bn.removeEventListener("click",clickHandler);
//        function clickHandler(e) {
//            console.log("大家好");
//        }


    /*
      *
      *
      *   封装通用事件
      *
      * */
//    function addEventListen(target,type,callBack) {
//        try {
//            target.addEventListener(type,callBack);
//        }catch (e){
//            target.attachEvent("on"+type,callBack);
//        }
//    }
//    function removeEventListen(target,type,callBack) {
//        try {
//            target.removeEventListener(type,callBack);
//        }catch (e){
//            target.detachEvent("on"+type,callBack);
//        }
//    }

    //      addEventListen(bn,"click",clickHandler);



    /*
        *  事件添加和删除
        *  如果事件不需要再使用或者被操作的事件需要删除或者清空时，
        *  我们需要将这个对象的所有事件删除了，否则就会内存泄漏
        *  内存泄漏很重要，区别高低程序员的关键
        *  gc 多加了解
        *
        * */


    var bn=document.querySelector("button");    //先获取到这个button按钮

    bn.addEventListener("click",clickHandler);  //给这个按钮添点击事件  调用的函数
    bn.num=5;                                   //设置点击的次数
    function clickHandler(e) {                  // 执行的函数
        console.log("你好啊");
        bn.num--;
        if (bn.num<=0){
            bn.removeEventListener("click",clickHandler);   //取消点击事件
        }
    }

//     var a=3;
//    var b=a || 5;             //如果a不等于0，那么就把a传给b 否则就把5传给b




</script>
</body>
</html>